parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KOQW":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Headers=h,exports.Request=w,exports.Response=_,exports.fetch=E,exports.DOMException=void 0;var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t,e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function r(t){return t&&DataView.prototype.isPrototypeOf(t)}if(e.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function h(t){this.map={},t instanceof h?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function c(t){var e=new FileReader,r=f(e);return e.readAsArrayBuffer(t),r}function d(t){var e=new FileReader,r=f(e);return e.readAsText(t),r}function y(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:e.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:e.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():e.arrayBuffer&&e.blob&&r(t)?(this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||n(t))?this._bodyArrayBuffer=l(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=u(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(c)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=i(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[i(t)]},h.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},h.prototype.set=function(t,e){this.map[i(t)]=s(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),a(t)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},h.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),a(t)},e.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}function w(t,e){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=m(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function T(t){var e=new h;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}}),e}function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},p.call(w.prototype),p.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var g=t.DOMException;exports.DOMException=g;try{new g}catch(B){exports.DOMException=g=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},g.prototype=Object.create(Error.prototype),g.prototype.constructor=g}function E(r,o){return new Promise(function(n,i){var a=new w(r,o);if(a.signal&&a.signal.aborted)return i(new g("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var t={status:u.status,statusText:u.statusText,headers:T(u.getAllResponseHeaders()||"")};t.url="responseURL"in u?u.responseURL:t.headers.get("X-Request-URL");var e="response"in u?u.response:u.responseText;setTimeout(function(){n(new _(e,t))},0)},u.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},u.onabort=function(){setTimeout(function(){i(new g("Aborted","AbortError"))},0)},u.open(a.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(r){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(e.blob?u.responseType="blob":e.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!o||"object"!=typeof o.headers||o.headers instanceof h?a.headers.forEach(function(t,e){u.setRequestHeader(e,t)}):Object.getOwnPropertyNames(o.headers).forEach(function(t){u.setRequestHeader(t,s(o.headers[t]))}),a.signal&&(a.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",f)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=h,t.Request=w,t.Response=_);
},{}],"MY2F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tailRec=function(e,t){for(var r=e(t);r.isLeft();)r=e(r.value);return r.value};
},{}],"ksWQ":[function(require,module,exports) {
"use strict";function t(t,n){return function(r){return t(r)||n(r)}}function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(n){for(var e=n,o=r;o>-1;o--)e=t[o].call(this,e);return e}}function r(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(n){for(var e=n,o=0;o<=r;o++)e=t[o].call(this,e);return e}}function e(t,n,r){return function(o){var u=exports.concat(r,[o]);return 0===n?t.apply(this,u):e(t,n-1,u)}}function o(t){return e(t,t.length-1,[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=function(t){return t},exports.unsafeCoerce=exports.identity,exports.not=function(t){return function(n){return!t(n)}},exports.or=t,exports.and=function(t,n){return function(r){return t(r)&&n(r)}},exports.constant=function(t){return function(){return t}},exports.constTrue=function(){return!0},exports.constFalse=function(){return!1},exports.constNull=function(){return null},exports.constUndefined=function(){},exports.constVoid=function(){},exports.flip=function(t){return function(n){return function(r){return t(r)(n)}}},exports.on=function(t){return function(n){return function(r,e){return t(n(r),n(e))}}},exports.compose=n,exports.pipe=r,exports.concat=function(t,n){var r=t.length;if(0===r)return n;var e=n.length;if(0===e)return t;for(var o=Array(r+e),u=0;u<r;u++)o[u]=t[u];for(u=0;u<e;u++)o[u+r]=n[u];return o},exports.curried=e,exports.curry=o;var u=function(t){return t.displayName||t.name||"<function"+t.length+">"};exports.toString=function(t){if("string"==typeof t)return JSON.stringify(t);if(t instanceof Date)return"new Date('"+t.toISOString()+"')";if(Array.isArray(t))return"["+t.map(exports.toString).join(", ")+"]";if("function"==typeof t)return u(t);if(null==t)return String(t);if("function"==typeof t.toString&&t.toString!==Object.prototype.toString)return t.toString();try{return JSON.stringify(t,null,2)}catch(n){return String(t)}},exports.tuple=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},exports.tupleCurried=function(t){return function(n){return[t,n]}},exports.apply=function(t){return function(n){return t(n)}},exports.applyFlipped=function(t){return function(n){return n(t)}},exports.phantom=void 0,exports.constIdentity=function(){return exports.identity},exports.increment=function(t){return t+1},exports.decrement=function(t){return t-1};
},{}],"UYs7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEquals=function(t){return{equals:function(e,r){return e===r||t(e,r)}}},exports.strictEqual=function(t,e){return t===e};var t={equals:exports.strictEqual};exports.setoidString=t,exports.setoidNumber=t,exports.setoidBoolean=t,exports.getArraySetoid=function(t){return exports.fromEquals(function(e,r){return e.length===r.length&&e.every(function(e,o){return t.equals(e,r[o])})})},exports.getStructSetoid=function(t){return exports.fromEquals(function(e,r){for(var o in t)if(!t[o].equals(e[o],r[o]))return!1;return!0})},exports.getRecordSetoid=function(t){return exports.getStructSetoid(t)},exports.getTupleSetoid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return exports.fromEquals(function(e,r){return t.every(function(t,o){return t.equals(e[o],r[o])})})},exports.getProductSetoid=function(t,e){return exports.getTupleSetoid(t,e)},exports.contramap=function(t,e){return exports.fromEquals(function(r,o){return e.equals(t(r),t(o))})},exports.setoidDate=exports.contramap(function(t){return t.valueOf()},exports.setoidNumber);
},{}],"N8cU":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./ChainRec"),r=require("./function"),n=require("./Setoid");exports.URI="Either";var o=function(){function t(t){this.value=t,this._tag="Left"}return t.prototype.map=function(t){return this},t.prototype.ap=function(t){return t.isLeft()?t:this},t.prototype.ap_=function(t){return t.ap(this)},t.prototype.chain=function(t){return this},t.prototype.bimap=function(e,r){return new t(e(this.value))},t.prototype.alt=function(t){return t},t.prototype.orElse=function(t){return t(this.value)},t.prototype.extend=function(t){return this},t.prototype.reduce=function(t,e){return t},t.prototype.fold=function(t,e){return t(this.value)},t.prototype.getOrElse=function(t){return t},t.prototype.getOrElseL=function(t){return t(this.value)},t.prototype.mapLeft=function(e){return new t(e(this.value))},t.prototype.inspect=function(){return this.toString()},t.prototype.toString=function(){return"left("+r.toString(this.value)+")"},t.prototype.isLeft=function(){return!0},t.prototype.isRight=function(){return!1},t.prototype.swap=function(){return new i(this.value)},t.prototype.filterOrElse=function(t,e){return this},t.prototype.filterOrElseL=function(t,e){return this},t.prototype.refineOrElse=function(t,e){return this},t.prototype.refineOrElseL=function(t,e){return this},t}();exports.Left=o;var i=function(){function t(t){this.value=t,this._tag="Right"}return t.prototype.map=function(e){return new t(e(this.value))},t.prototype.ap=function(t){return t.isRight()?this.map(t.value):exports.left(t.value)},t.prototype.ap_=function(t){return t.ap(this)},t.prototype.chain=function(t){return t(this.value)},t.prototype.bimap=function(e,r){return new t(r(this.value))},t.prototype.alt=function(t){return this},t.prototype.orElse=function(t){return this},t.prototype.extend=function(e){return new t(e(this))},t.prototype.reduce=function(t,e){return e(t,this.value)},t.prototype.fold=function(t,e){return e(this.value)},t.prototype.getOrElse=function(t){return this.value},t.prototype.getOrElseL=function(t){return this.value},t.prototype.mapLeft=function(e){return new t(this.value)},t.prototype.inspect=function(){return this.toString()},t.prototype.toString=function(){return"right("+r.toString(this.value)+")"},t.prototype.isLeft=function(){return!1},t.prototype.isRight=function(){return!0},t.prototype.swap=function(){return new o(this.value)},t.prototype.filterOrElse=function(t,e){return t(this.value)?this:exports.left(e)},t.prototype.filterOrElseL=function(t,e){return t(this.value)?this:exports.left(e(this.value))},t.prototype.refineOrElse=function(t,e){return t(this.value)?this:exports.left(e)},t.prototype.refineOrElseL=function(t,e){return t(this.value)?this:exports.left(e(this.value))},t}();exports.Right=i,exports.getShow=function(t,e){return{show:function(r){return r.fold(function(e){return"left("+t.show(e)+")"},function(t){return"right("+e.show(t)+")"})}}},exports.getSetoid=function(t,e){return n.fromEquals(function(r,n){return r.isLeft()?n.isLeft()&&t.equals(r.value,n.value):n.isRight()&&e.equals(r.value,n.value)})},exports.getSemigroup=function(t){return{concat:function(e,r){return r.isLeft()?e:e.isLeft()?r:exports.right(t.concat(e.value,r.value))}}},exports.getApplySemigroup=function(t){return{concat:function(e,r){return e.isLeft()?e:r.isLeft()?r:exports.right(t.concat(e.value,r.value))}}},exports.getApplyMonoid=function(e){return t({},exports.getApplySemigroup(e),{empty:exports.right(e.empty)})};var u=function(t,e){return t.map(e)},p=function(t,e){return e.ap(t)},f=function(t,e){return t.chain(e)},s=function(t,e,r){return t.bimap(e,r)},a=function(t,e){return t.alt(e)},l=function(t,e){return t.extend(e)},c=function(t,e,r){return t.reduce(e,r)},h=function(t){return function(e,r){return e.isLeft()?t.empty:r(e.value)}},v=function(t,e,r){return t.isLeft()?e:r(t.value,e)},x=function(t){return function(e,r){return e.isLeft()?t.of(exports.left(e.value)):t.map(r(e.value),m)}},g=function(t){return function(e){return e.isLeft()?t.of(exports.left(e.value)):t.map(e.value,exports.right)}},y=function(t,r){return e.tailRec(function(t){if(t.isLeft())return exports.right(exports.left(t.value));var e=t.value;return e.isLeft()?exports.left(r(e.value)):exports.right(exports.right(e.value))},r(t))};exports.left=function(t){return new o(t)},exports.right=function(t){return new i(t)};var m=exports.right;function L(t,e){return function(r){return t(r)?exports.right(r):exports.left(e(r))}}function O(t){return{URI:exports.URI,_L:r.phantom,compact:function(e){return e.isLeft()?e:e.value.isNone()?exports.left(t.empty):exports.right(e.value.value)},separate:function(e){return e.isLeft()?{left:e,right:e}:e.value.isLeft()?{left:exports.right(e.value.value),right:exports.left(t.empty)}:{left:exports.left(t.empty),right:exports.right(e.value.value)}}}}function d(e){var r=O(e);return t({},r,{map:u,partitionMap:function(t,r){if(t.isLeft())return{left:t,right:t};var n=r(t.value);return n.isLeft()?{left:exports.right(n.value),right:exports.left(e.empty)}:{left:exports.left(e.empty),right:exports.right(n.value)}},filterMap:function(t,r){if(t.isLeft())return t;var n=r(t.value);return n.isSome()?exports.right(n.value):exports.left(e.empty)},partition:function(t,r){return t.isLeft()?{left:t,right:t}:r(t.value)?{left:exports.left(e.empty),right:exports.right(t.value)}:{left:exports.right(t.value),right:exports.left(e.empty)}},filter:function(t,r){return t.filterOrElse(r,e.empty)}})}function E(e){var r=d(e);return t({},r,{traverse:x,reduce:c,wither:function(t){var e=x(t);return function(n,o){return t.map(e(n,o),r.compact)}},wilt:function(t){var e=x(t);return function(n,o){return t.map(e(n,o),r.separate)}}})}exports.fromPredicate=L,exports.fromRefinement=function(t,e){return function(r){return t(r)?exports.right(r):exports.left(e(r))}},exports.fromOption=function(t){return function(e){return e.isNone()?exports.left(t):exports.right(e.value)}},exports.fromOptionL=function(t){return function(e){return e.isNone()?exports.left(t()):exports.right(e.value)}},exports.fromNullable=function(t){return function(e){return null==e?exports.left(t):exports.right(e)}},exports.toError=function(t){return t instanceof Error?t:new Error(String(t))},exports.tryCatch=function(t,e){return void 0===e&&(e=exports.toError),exports.tryCatch2v(t,e)},exports.tryCatch2v=function(t,e){try{return exports.right(t())}catch(r){return exports.left(e(r))}},exports.fromValidation=function(t){return t.isFailure()?exports.left(t.value):exports.right(t.value)},exports.isLeft=function(t){return t.isLeft()},exports.isRight=function(t){return t.isRight()},exports.getCompactable=O,exports.getFilterable=d,exports.getWitherable=E,exports.parseJSON=function(t,e){return exports.tryCatch2v(function(){return JSON.parse(t)},e)},exports.stringifyJSON=function(t,e){return exports.tryCatch2v(function(){return JSON.stringify(t)},e)};var w=exports.left,S=r.identity;exports.either={URI:exports.URI,map:u,of:m,ap:p,chain:f,reduce:c,foldMap:h,foldr:v,traverse:x,sequence:g,bimap:s,alt:a,extend:l,chainRec:y,throwError:w,fromEither:S,fromOption:function(t,e){return t.isNone()?w(e):m(t.value)}};
},{"./ChainRec":"MY2F","./function":"ksWQ","./Setoid":"UYs7"}],"cp8R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./function");function r(r){return function(t,u){return r.ap(r.map(t,n.constant),u)}}function t(n){return function(r,t){return n.ap(n.map(r,function(){return function(n){return n}}),t)}}function u(n){return function(r){return function(t){return function(u){return n.ap(n.map(t,r),u)}}}}function e(n){return function(r){return function(t){return function(u){return function(e){return n.ap(n.ap(n.map(t,r),u),e)}}}}}function o(n){return function(r){return function(t){return function(u){return function(e){return function(o){return n.ap(n.ap(n.ap(n.map(t,r),u),e),o)}}}}}}function c(n,r){var t=function(n){return function(t){return r.concat(n,t)}};return function(){return{concat:function(r,u){return n.ap(n.map(r,t),u)}}}}exports.applyFirst=r,exports.applySecond=t,exports.liftA2=u,exports.liftA3=e,exports.liftA4=o,exports.getSemigroup=c;var i={};function f(r){return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var e=t.length,o=i[e];Boolean(o)||(o=i[e]=n.curried(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n},e-1,[]));for(var c=r.map(t[0],o),f=1;f<e;f++)c=r.ap(c,t[f]);return c}}function a(n){return function(r){for(var t=Object.keys(r),u=t[0],e=t.slice(1),o=n.map(r[u],function(n){var r;return(r={})[u]=n,r}),c=function(t){o=n.ap(n.map(o,function(n){return function(r){return n[t]=r,n}}),r[t])},i=0,f=e;i<f.length;i++){c(f[i])}return o}}exports.sequenceT=f,exports.sequenceS=a;
},{"./function":"ksWQ"}],"vtY7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./function");function t(n){return function(t){return function(r){return n.map(r,t)}}}function r(t){return function(r,u){return t.map(u,n.constant(r))}}function u(t){return function(r,u){return t.map(r,n.constant(u))}}function e(n){return function(t,r){return n.map(r,function(n){return n(t)})}}function o(n,t){return{map:function(r,u){return n.map(r,function(n){return t.map(n,u)})}}}exports.lift=t,exports.voidRight=r,exports.voidLeft=u,exports.flap=e,exports.getFunctorComposition=o;
},{"./function":"ksWQ"}],"RkvS":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Apply"),n=require("./Functor");function e(t){return function(r,n){return r?n:t.of(void 0)}}function o(r,e){return t({},n.getFunctorComposition(r,e),{of:function(t){return r.of(e.of(t))},ap:function(t,n){return r.ap(r.map(t,function(t){return function(r){return e.ap(t,r)}}),n)}})}function i(n,e){var o=r.getSemigroup(n,e)();return function(){return t({},o,{empty:n.of(e.empty)})}}exports.when=e,exports.getApplicativeComposition=o,exports.getMonoid=i;
},{"./Apply":"cp8R","./Functor":"vtY7"}],"WNKS":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./Applicative"),r=require("./Either");function e(t){return function(n,r,e){return t.map(e,function(t){return t.isLeft()?n(t.value):r(t.value)})}}function i(e){var i=n.getApplicativeComposition(e,r.either);return t({},i,{chain:function(t,n){return e.chain(t,function(t){return t.isLeft()?e.of(r.left(t.value)):n(t.value)})}})}function u(t){return function(n,e){return t.chain(e,function(e){return e.isLeft()?t.of(r.left(e.value)):n(e.value)})}}function o(e){var i=n.getApplicativeComposition(e,r.either);return t({},i,{chain:u(e)})}function f(t){return function(n){return t.map(n,r.right)}}function c(t){return function(n){return t.map(n,r.left)}}function a(t){return t.of}function p(t){return function(n){return function(r){return t.map(r,function(t){return t.mapLeft(n)})}}}function s(t){return function(n,r,e){return t.map(n,function(t){return t.bimap(r,e)})}}exports.fold=e,exports.getEitherT2v=i,exports.chain=u,exports.getEitherT=o,exports.right=f,exports.left=c,exports.fromEither=a,exports.mapLeft=p,exports.bimap=s;
},{"./Applicative":"RkvS","./Either":"N8cU"}],"cvsC":[function(require,module,exports) {
"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./Either"),r=require("./function");exports.URI="Task";var e=function(){function n(n){this.run=n}return n.prototype.map=function(t){var r=this;return new n(function(){return r.run().then(t)})},n.prototype.ap=function(t){var r=this;return new n(function(){return Promise.all([t.run(),r.run()]).then(function(n){return(0,n[0])(n[1])})})},n.prototype.ap_=function(n){return n.ap(this)},n.prototype.applyFirst=function(n){return n.ap(this.map(r.constant))},n.prototype.applySecond=function(n){return n.ap(this.map(r.constIdentity))},n.prototype.chain=function(t){var r=this;return new n(function(){return r.run().then(function(n){return t(n).run()})})},n.prototype.inspect=function(){return this.toString()},n.prototype.toString=function(){return"new Task("+r.toString(this.run)+")"},n}();exports.Task=e;var o=function(n,t){return n.map(t)},u=function(n){return new e(function(){return Promise.resolve(n)})},i=function(n,t){return t.ap(n)},c=function(n,t){return n.chain(t)};exports.getRaceMonoid=function(){return{concat:function(n,t){return new e(function(){return new Promise(function(r,e){var o=!0,u=function(n){o&&(o=!1,r(n))},i=function(n){o&&(o=!1,e(n))};n.run().then(u,i),t.run().then(u,i)})})},empty:p}};var p=new e(function(){return new Promise(function(n){})});exports.getSemigroup=function(n){return{concat:function(t,r){return new e(function(){return t.run().then(function(t){return r.run().then(function(r){return n.concat(t,r)})})})}}},exports.getMonoid=function(t){return n({},exports.getSemigroup(t),{empty:u(t.empty)})},exports.tryCatch=function(n,r){return new e(function(){return n().then(t.right,function(n){return t.left(r(n))})})},exports.fromIO=function(n){return new e(function(){return Promise.resolve(n.run())})},exports.delay=function(n,t){return new e(function(){return new Promise(function(r){setTimeout(function(){r(t)},n)})})};var f=r.identity;exports.task={URI:exports.URI,map:o,of:u,ap:i,chain:c,fromIO:exports.fromIO,fromTask:f},exports.taskSeq=n({},exports.task,{ap:function(n,t){return n.chain(function(n){return t.map(n)})}});
},{"./Either":"N8cU","./function":"ksWQ"}],"SSLv":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./Either"),n=require("./EitherT"),e=require("./function"),o=require("./Task");exports.URI="TaskEither";var u=n.getEitherT2v(o.task),i=n.fold(o.task),p=function(){function t(t){this.value=t}return t.prototype.run=function(){return this.value.run()},t.prototype.map=function(r){return new t(u.map(this.value,r))},t.prototype.ap=function(r){return new t(u.ap(r.value,this.value))},t.prototype.ap_=function(t){return t.ap(this)},t.prototype.applyFirst=function(t){return t.ap(this.map(e.constant))},t.prototype.applySecond=function(t){return t.ap(this.map(e.constIdentity))},t.prototype.chainFirst=function(t){return this.chain(function(r){return t.map(function(){return r})})},t.prototype.chainSecond=function(t){return this.chain(function(){return t})},t.prototype.chain=function(r){return new t(u.chain(this.value,function(t){return r(t).value}))},t.prototype.fold=function(t,r){return i(t,r,this.value)},t.prototype.foldTask=function(t,r){return this.value.chain(function(n){return n.fold(t,r)})},t.prototype.foldTaskEither=function(r,n){return new t(this.value.chain(function(t){return t.fold(r,n).value}))},t.prototype.getOrElse=function(t){return this.getOrElseL(function(){return t})},t.prototype.getOrElseL=function(t){return this.fold(t,e.identity)},t.prototype.mapLeft=function(r){return new t(this.value.map(function(t){return t.mapLeft(r)}))},t.prototype.orElse=function(r){return new t(this.value.chain(function(t){return t.fold(function(t){return r(t).value},u.of)}))},t.prototype.alt=function(t){return this.orElse(function(){return t})},t.prototype.bimap=function(r,n){return new t(this.value.map(function(t){return t.bimap(r,n)}))},t.prototype.attempt=function(){return new t(this.value.map(r.right))},t.prototype.filterOrElse=function(r,n){return new t(this.value.map(function(t){return t.filterOrElse(r,n)}))},t.prototype.filterOrElseL=function(r,n){return new t(this.value.map(function(t){return t.filterOrElseL(r,n)}))},t}();exports.TaskEither=p;var a=function(t,r){return t.map(r)},f=function(t){return new p(u.of(t))},c=function(t,r){return r.ap(t)},s=function(t,r){return t.chain(r)},l=function(t,r){return t.alt(r)},h=function(t,r,n){return t.bimap(r,n)};function m(t,n){var e=r.fromPredicate(t,n);return function(t){return exports.fromEither(e(t))}}function y(t){return function(){var n=Array.prototype.slice.call(arguments);return new p(new o.Task(function(){return new Promise(function(e){t.apply(null,n.concat(function(t,n){return e(null!=t?r.left(t):r.right(n))}))})}))}}exports.right=function(t){return new p(t.map(r.right))},exports.left=function(t){return new p(t.map(r.left))},exports.fromEither=function(t){return new p(o.task.of(t))},exports.fromIO=function(t){return exports.right(o.fromIO(t))},exports.fromLeft=function(t){return exports.fromEither(r.left(t))},exports.fromIOEither=function(t){return new p(o.fromIO(t.value))},exports.fromPredicate=m,exports.getSemigroup=function(t){var n=o.getSemigroup(r.getSemigroup(t));return{concat:function(t,r){return new p(n.concat(t.value,r.value))}}},exports.getApplySemigroup=function(t){var n=o.getSemigroup(r.getApplySemigroup(t));return{concat:function(t,r){return new p(n.concat(t.value,r.value))}}},exports.getApplyMonoid=function(r){return t({},exports.getApplySemigroup(r),{empty:f(r.empty)})},exports.tryCatch=function(t,r){return new p(o.tryCatch(t,r))},exports.taskify=y;var v=exports.right;exports.bracket=function(t,r,n){return t.chain(function(t){return r(t).attempt().chain(function(r){return n(t,r).chain(function(){return r.fold(exports.fromLeft,exports.taskEither.of)})})})};var x=exports.fromLeft;exports.taskEither={URI:exports.URI,bimap:h,map:a,of:f,ap:c,chain:s,alt:l,fromIO:exports.fromIO,fromTask:v,throwError:x,fromEither:exports.fromEither,fromOption:function(t,r){return t.isNone()?x(r):f(t.value)}},exports.taskEitherSeq=t({},exports.taskEither,{ap:function(t,r){return t.chain(function(t){return r.map(t)})}});
},{"./Either":"N8cU","./EitherT":"WNKS","./function":"ksWQ","./Task":"cvsC"}],"MJv8":[function(require,module,exports) {
"use strict";function E(E=exports.DEFAULT_EXPONENTIAL_BACKOFF_BASE_INTERVAL,A=exports.DEFAULT_EXPONENTIAL_BACKOFF_MULTIPLIER,_=exports.DEFAULT_EXPONENTIAL_BACKOFF_MAX_JITTER,e=exports.DEFAULT_EXPONENTIAL_BACKOFF_MAX){return t=>{const F=Math.random()*_,T=E*Math.pow(A,t)+F;return Math.min(T,e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_EXPONENTIAL_BACKOFF_BASE_INTERVAL=500,exports.DEFAULT_EXPONENTIAL_BACKOFF_MULTIPLIER=2,exports.DEFAULT_EXPONENTIAL_BACKOFF_MAX_JITTER=1e3,exports.DEFAULT_EXPONENTIAL_BACKOFF_MAX=32e3,exports.calculateExponentialBackoffInterval=E;
},{}],"t2d1":[function(require,module,exports) {
"use strict";function e(e,t){return{e1:e,e2:t}}function t(e,t,r){return{e1:e,e2:t,e3:r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tuple2=e,exports.Tuple3=t;
},{}],"Y9vs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("fp-ts/lib/Either"),t=require("./tuples");function r(e){return new Promise(t=>{setTimeout(()=>t(),e)})}function i(t,i,o=r){const n=o(i);return new Promise((r,i)=>{n.then(()=>r(e.left("timeout"))).catch(i),t.then(t=>r(e.right(t))).catch(i)})}function o(){let e=()=>{throw new Error("Promise.resolve not yet initialized")},r=()=>{throw new Error("Promise.reject not yet initialized")};const i=new Promise((t,i)=>{e=t,r=i});return t.Tuple3(i,e,r)}exports.timeoutPromise=r,exports.withTimeout=i,exports.DeferredPromise=o;
},{"fp-ts/lib/Either":"N8cU","./tuples":"t2d1"}],"r1TW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("fp-ts/lib/Either"),r=require("fp-ts/lib/Task"),t=require("fp-ts/lib/TaskEither");function s(r,s){return(i,o=Promise.resolve(!1))=>{let n=!1;o.then(e=>{n=e},e=>void 0);const a=(i,o)=>i>=r-1?o:o.orElse(r=>{if(n)return t.fromLeft(exports.RetryAborted);if(r===exports.TransientError){return new t.TaskEither(exports.delayTask(s(i),!0).map(r=>e.right(r))).chain(()=>a(i+1,o))}return o});return a(0,i).mapLeft(e=>e===exports.TransientError?exports.MaxRetries:e)}}exports.delayTask=((e,t)=>new r.Task(()=>new Promise(r=>{setTimeout(()=>r(t),e)}))),exports.TransientError="transient",exports.MaxRetries="max-retries",exports.RetryAborted="retry-aborted",exports.withRetries=s;
},{"fp-ts/lib/Either":"N8cU","fp-ts/lib/Task":"cvsC","fp-ts/lib/TaskEither":"SSLv"}],"KzAc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("fp-ts/lib/TaskEither"),r=require("./promises"),t=require("./tasks"),o=require("./tuples");function s(e=fetch){return(r,t)=>{const s=new AbortController,n=s.signal,i=Object.assign({},t,{signal:n}),u=e(r,i);return o.Tuple2(u,s)}}function n(e,t){return(o,s)=>{const n=t(o,s);return r.timeoutPromise(e).then(()=>{n.e2.abort()}).catch(e=>void 0),n}}exports.AbortableFetch=s,exports.toFetch=(e=>(r,t)=>e(r,t).e1),exports.setFetchTimeout=n,exports.retriableFetch=((r,o=Promise.resolve(!1))=>s=>(n,i)=>{const u=e.tryCatch(()=>s(n,i),e=>`${e}`.toLowerCase().indexOf("aborted")>=0||"Aborted"===e.name||"Network request failed"===e.name||"aborted"===e.type?t.TransientError:new Error("Promise has been rejected")),a=r(u,o);return new Promise((e,r)=>{a.run().then(t=>{t.fold(r,e)},r)})});
},{"fp-ts/lib/TaskEither":"SSLv","./promises":"Y9vs","./tasks":"r1TW","./tuples":"t2d1"}],"asPo":[function(require,module,exports) {
"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0,o=e.AbortController,t=e.AbortSignal;module.exports=o,module.exports.AbortSignal=t,module.exports.default=o;
},{}],"VGBR":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.Headers=h,exports.Request=v,exports.Response=_,exports.fetch=g,exports.DOMException=void 0;var e=t,r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function o(t){return t&&DataView.prototype.isPrototypeOf(t)}if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function p(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function y(t){var e=new FileReader,r=d(e);return e.readAsText(t),r}function c(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(r.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(r.arrayBuffer&&r.blob&&o(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=s(t),e=a(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[s(t)]},h.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},h.prototype.set=function(t,e){this.map[s(t)]=a(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),u(t)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},h.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),u(t)},r.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t){var e=t.toUpperCase();return m.indexOf(e)>-1?e:t}function v(t,e){var r=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=w(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function A(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function E(t){var e=new h;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},b.call(v.prototype),b.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];_.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var B=e.DOMException;exports.DOMException=B;try{new B}catch(T){exports.DOMException=B=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},B.prototype=Object.create(Error.prototype),B.prototype.constructor=B}function g(t,e){return new Promise(function(o,n){var i=new v(t,e);if(i.signal&&i.signal.aborted)return n(new B("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:E(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;o(new _(e,t))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.onabort=function(){n(new B("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",a)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})}g.polyfill=!0,e.fetch=g.bind(e),e.Headers=h.bind(e),e.Request=v.bind(e),e.Response=_.bind(e);
},{}],"ffoB":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.transientConfigurableFetch=exports.constantPollingFetch=exports.retryLogicForTransientResponseError=exports.defaultRetryingFetch=void 0;var e=require("fp-ts/lib/Either"),r=require("fp-ts/lib/TaskEither"),n=require("italia-ts-commons/lib/backoff"),o=require("italia-ts-commons/lib/fetch"),i=require("italia-ts-commons/lib/tasks");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=o.AbortableFetch(t),c=o.toFetch(o.setFetchTimeout(e,a)),u=n.calculateExponentialBackoffInterval(),l=s(function(t){return 429===t.status},i.withRetries(r,u));return o.retriableFetch(l)(c)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=o.AbortableFetch(t);return a(o.toFetch(n),e,r)}function s(t,n){return function(o,a){return n(o.chain(function(n){return r.fromEither(t(n)?e.left(i.TransientError):e.right(n))}),a)}}exports.defaultRetryingFetch=c,exports.retryLogicForTransientResponseError=s;var u=function(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;t.AbortController=require("abort-controller"),require("./whatwg-fetch");var c=o.AbortableFetch(t.fetch),u=o.toFetch(o.setFetchTimeout(a,c)),l=s(function(t){return 404===t.status},i.withRetries(r,function(){return n}));return o.retriableFetch(l,e)(u)};exports.constantPollingFetch=u;var l=function(t,e,r){var n=o.AbortableFetch(t),a=o.toFetch(o.setFetchTimeout(1e3,n)),c=s(function(t){return t.status===r},i.withRetries(e,function(){return 10}));return o.retriableFetch(c)(a)};exports.transientConfigurableFetch=l;
},{"fp-ts/lib/Either":"N8cU","fp-ts/lib/TaskEither":"SSLv","italia-ts-commons/lib/backoff":"MJv8","italia-ts-commons/lib/fetch":"KzAc","italia-ts-commons/lib/tasks":"r1TW","abort-controller":"asPo","./whatwg-fetch":"VGBR"}],"sXih":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("whatwg-fetch"),t=require("../../utils/fetch");function r(){t.transientConfigurableFetch(e.fetch,3,404)("http://localhost:5000/transient-error",{headers:{"upgrade-insecure-requests":"1"},method:"GET"})}r();
},{"whatwg-fetch":"KOQW","../../utils/fetch":"ffoB"}]},{},["sXih"], null)
//# sourceMappingURL=/transientConfigurableFetch.js.map